## Wednesday, December 7, 2022

WE MET CODE FREEZE!! But it wasn't without major struggles today. We got to meet really early today which was great. Cindy realized that we had a lint error which was causing our front end to not work. She fixed this last night so we were in a good place to start off our day. Daniel finished up his deployment lecture and Cindy asked about our issue with our backend databases not talking. He had Andrew come help us in our breakout room and he basically just told us that we weren't meant to be able to use our token in our second database, but if we needed to create backend data we can do so using Mongo Express. After that we tackled our unit tests. We decided to test our get cuisine and get price functions from our recommendations queries. We quickly got an error saying that mongodb+srv was not a valid hostname and suggested mongodb. We removed them all from our queries but it still was giving us the error! We were so confused and after a while ended up posting on help me understand. Jason came in and said we need an **init**.py file, and then we realized I didn't save my queries files... which is why the server error still occurred. After fixing that we knocked out the second unit test. The third one came with a little more trouble since were now testing endpoints which we had already restricted to be authorized. We knew this was the case when we got a 401 error in trying to run our test. We luckily found in Curtis's book example that he had used a fake account to override the authorization! The fourth test is the one that gave us the most trouble. Since we were trying to test our create, it used GatheringIn. However, we were getting errors about our datetime not being serializable. This got us for a really long time and Junella and Yesenia even came to try to help us. We ended up removing GatheringIn and just passing in an object and it worked. Next we pushed this all to main and uncommented the unit test job in our gitlab ci file. We got MORE errors with our unit test job saying. It was a keyerror on signing key. After a while we posted on help me understand again and then Jon came in and gave us some guidance that worked for them, which was to add it to the environment variables in GitLab. This worked but then we got Mongo host error. We were unsure if this was the correct thing to keep doing but then Adrian came in and helped us also. Adrian suggested adding the rest of our environment variables to gitlab and IT WORKED. We were overjoyed! And exhausted. Thanks to everyone for all your help today!!

## Tuesday, December 6, 2022

Today we continued to mess with our CI/CD. Cindy yesterday evening changed our environment variables to match what our database_url variable had in render. This led to a successful deploy for us! V exciting. Since we are unable to test this, we made our next step to deploy the accounts microservice. We hopped around quite a bit as we kept waiting for render to deploy our accounts backend. I made a merge request for a few changes I had made to my gathering list. I made the button that says create a gathering link to the create a gathering page and also made the name and yelp addresses into clickable links. We also took care of our lint errors that would help with with our front end deployment. We also tried to get started on our unit tests. We got distracted with the deployments so ultimately didn't end up getting far with unit tests. We were getting an error that said our server had no address. Daniel gave a CI/CD lecture so we paused on our stuff for a bit and decided to ask Daniel come and help us in our room after attendance. He was so great and patient with us to help troubleshoot / figure out Mongo. Ultimately we were missing +srv in our mongo_str in the queries, frustrating but Daniel helped us figure it out. Then we also had to create databases inside our collections section on Mongo Atlas. After addressing some lint errors and commenting out the unit tests from our ci file, we were able to see our deployed front end page!!! It was very exciting. However, it appears our token is not being passed from the accounts database to the gathering database, not the front end. TBD, hold please.

## Monday, December 5, 2022

Today we started CI/CD! We referenced the CI cookbook to set up our .gitlab-ci.yml file, even though a lot of us was already given to us in our repo.We started off by removing our keys.py file with our Yelp API key and added it instead to our docker compose / a new .env file. Then we went through all of our components and swapped any hard coded http://localhost:8000 with ${process.env.REACT_APP_GATHERINGS}. Once we finished all the items in the CI cookbook, we moved on to the preparing for deployment page. We added basename to our App.js which ensures our SPA behaves correctly when trying to match routes while using BrowserRouter. Next, we signed up for a cloud account on MongoDB and started that setup. The instructions didn't super match the steps that we needed to follow but we were able to eventually figure it out. However, when we tried to deploy our gatherings app, we were getting an error that routers was not defined. We tried playing around with a few different things but none of them were working before lunch. Cindy suggested that we needed to update our dockerfile first to uncomment some things that were commented. That worked and then we were getting an issue for signing_key, which we hypothesized that we needed to add to render since we were unsure if we needed to add it earlier.

## Friday, December 2, 2022

We started off our day by trying to tackle the front end authorization again. Cindy wanted to just "try" something by changing the field we had in our login function in our auth.js file from email to username, and it worked!! McKenzie realized also that in our 8001 docs login endpoint the field name was username so we were thinking this had something to do with it. With our front end auth working, we decided to merge everyone's front end components to main so we could restrict them all from the front end as well. We ran into some merge errors but they were mostly just with our app.js since we had all commented our various parts based on what we were working with. At some point we somehow lost our Auth Provider tags in App.js so that was giving us a different issue for a little bit. A lot of stuff wasn't working, but then we realized it might have been because we hadn't done the front end login restriction yet, so we did that. We eventually got all the pages working but McKenzie was still getting issues for her create a recommendation. At one point she was getting a cors error, but that went away, and then she had to also remove an extra $ from her url. She eventually got it working but there were still some errors in the console, but we'll deal with that on Monday.

## Thursday, December 1, 2022

We started off our day trying to help McKenzie finish up her gathering detail component. She was getting a method not allowed error in her console when trying to create a recommendation so we all wanted to help her figure it out. We realized that we didn't need to pass any body through the request due to how our create a recommendation endpoint works. Once we figured that out we had all of the functionality of our React components done!! whoooo :) After lunch we started on restricting our endpoints to those who are logged in. We had to add an additional authenticator.py file to our gatherings directory and passed pass through all of them. This was in part thanks to our classmates who had already tackled auth and were able to figure out the additional authenticator file with passing pass. The auth implementation went pretty smoothly, so we were pretty stoked. After a short break, we decided to start on the front end which unfortunately did not go as smoothly as the backend. We were referring to the auth cookbook that was given to us and added the useToken hook. We were unfortunately running into some errors on the front end auth, so we decided to call it a night and pick back up tomorrow with fresh eyes and brains.

## Wednesday, November 30, 2022

We didn't get a whole lot of project time today but we were still super productive! We did about 15 minutes of pair programming before lunch while Daisy and Cindy worked on a little bit of the auth stuff and McKenzie and I were trouble shooting an issue we had with our dates showing up on the front end. They were showing in UTC/GMT, which made things look like they were happening at 2am instead of 6pm. After lunch we regrouped and told the group about our discovery. Cindy was super invested too and we all were researching how to make the time show up correctly. We then figured out that while the date and time were being stored in mongo as GMT, when we use the "new Date and .toLocaleDate() it was automatically default that same time stamp to our local Pacific time. Luckily Cindy was able to do some great digging and found out that if we added "Z" to the string in which we were converting, it showed in our correct time zone!! WOooooo!! After the afternoon auth lecture, we realized we were all more or less done with our components bare bones functionality. We created another branch called "TestBox" to merge everything without messying up our main / individual component branches since we will need to edit them for whatever css we end up doing. This will make merge conflicts easier hopefully! We discussed that tomorrow we will plan to work on finishing up our auth and hopefully into CI/CD.

The group also helped me figure out my issue from yesterday. I needed to add [] into my function before the last ).

## Tuesday, November 29, 2022

Today we actually broke off to work individually on our components. We refactored our App.js due to an issue that McKenzie was running into trying to pass the gathering id into the url. I spent some time trying to make data through the docs so I can test the functionality of my page. I ran into a few issues trying to create data, because I realized that I was trying to create an event on Christmas and many restaurants are closed on Christmas. But I also think there is some limitation of how far into the future we can do a search for. It took some time to remember how to use React, as well as understanding how to use hooks, since I didn't use them last time. Perhaps doing some additional research on Youtube will help a little bit. I did however get some data to show up on my page!! That was exciting. One issue I ran into though was that the ghi container continually keeps refreshing at a crazy fast speed. Will need to ask the team if they've ever encountered this before. It's cool that I got data to show up, however I just made a simple table to get it to show up. Making the cards that we wanted will be a little tougher, but I have the conference go repo to refer back to for help!

## Monday, November 28, 2022

Today we got started on our front end components. We had actually planned to split off and work on our assigned components. However,we first decided to together, code our our App.js file to make it easier and more consistent. There's also much less potential for merge conflicts on this page that way. We also set up all the files and imported them to App.js. We were getting an error about the react-router-dom, and we realized we had to install it to the ghi directory. After we finished that, Cindy showed us how she figured out how to make our duplicate key error work. She found this in the books example repo from learn. We had to add a new setup directory and add a file to create account indices. Thanks Cindy! With this, we merged Daisy's auth branch to main. We will tackle restricting each endpoint to being logged in once we finish our components. We figured this would make testing easier. We learned CI/CD in lecture today but will wait to implement that once we have the updated CI/CD cookbook with the render.com instructions instead of Heroku.

## Wednesday, November 23, 2022

We started off the day great with Cindy figuring out why our Mango Express wasn't working. She found in docker that the server it was trying to access was mongo instead of mango. That was a great relief and then we were able to wrap up auth. There were a few more issues along the way, but the main one was that in our authenticator file we were referencing username instead of email, oops! We also ran into a little bit of trouble because our Account model was expecting a property hashed_password and we weren't passing it in. We will still need to add the line of code to each of our endpoints to require authentication, but we will tackle that once we get our front end components working. We also added the preference aggregation logic into Cindy's preference endpoint. It was actually somewhat similar to one of our practice projects this morning so that was a pretty cool warm up for us. We've set the $ to equal the lowest price chosen in the preference and the cuisine will either pick the highest frequency chosen or a random choice between any ties. We were able to successfully test it in the browser and it was SO EXCITING!! All the little pieces coming together is so exciting. We ended the day by dividing up the react components so people could work on them over the Thanksgiving break if they wanted to. I will be working on the gathering list page!

## Tuesday, November 22, 2022

Unfortunately what we thought we successfully set up yesterday actually didn't work. We're running into an error that is telling us that we dont have the proper authorization to access the database. This is the same issue that we got last Thursday and just changed the version and it worked. It seems like now we need to actually get to the root of the issue instead of slapping on bandaids like changing the version number. This was definitely sad for us as this felt like the biggest issue we've had so far. We though that the database was set up correctly, but today when we went to test our create an account functionality, it didn't work. Print statements were showing us that the data was being accessed correctly, but was returning false once we tried to retrieve it. We looked again at the mango express and realized that we didn't have the admin or config pages, and we think that might be the reason that our create is failing. We'll have to investigate more tomorrow because we were all too brain fried. Today we did take a bit of a step back and talked through what the code was doing and everyone had questions they wanted to ask. This was nice as it helped us get on the same page and understand the code a little bit better. We'll try on our own for a little bit longer tomorrow and then ask for help from an instructor or SEIR. ttfn

## Monday, November 21, 2022

It is a short week this week! Last week, we decided to make a goal to finish our endpoints by the time we left for Thanksgiving break and it seems like we are on track to get there. Although we are making great progress, I am definitely nervous by how soon our deadline is approaching! We're still continuing to group code our endpoints for the most part. Today we finished McKenzie's create a preference form and were able to get it to show up on the gathering in the database! Super exciting!! We also were able to get the database hooked up for our accounts microservice. Since everyone kept accidentally calling Mongo mango, we decided to name our second database mango. A great test of our eyes haha. All that is left on our backend is finishing up the auth, which hopefully shouldn't be too bad with jwotdown and adding onto Cindy's create a recommendation endpoint. We need to add in a function to aggregate and choose a cuisine / price point to send to the yelp API.

## Friday, November 18, 2022

We made a lot of great progress today!! We updated our hardcoded data to actually connect to the database instead of producing the hardcoded data. We were able to create and connect 3 different endpoints for our gatherings. These were create gathering, get one gathering, and get all gatherings. It was so exciting when we were able to successfully test each one, and then see it show up in mongo express! One aha moment for me today was when we were getting an error getting all gatherings because id was returning the wrong type. I suggested that we wrap it in a str and it worked!! We were all very excited and arms went flying. Cindy also showed us some progress she made on her endpoint and the yelp API integration. It was great!!

## Thursday, November 17, 2022

Today we learned about MongoDB, and have ultimately decided to use it over PostgreSQL. When we had group time to work, we added the MongoDB database to our docker compose yaml file. We tried to hook up mongo-express and ran into some trouble. When using mongo:5, we were receiving an error about authentication, however McKenzie tried using Mongo:0.54 instead and it worked then. We were all too tired to try to look more into it but we will get to it tomorrow. MongoDB seems cool, seems simpler to use and we will have more flexibility if we want to change any fields in the future.

## Wednesday, November 16, 2022

Today our group decided to group code our first endpoint for creating a gathering. We were all a little fuzzy on the steps but bouncing ideas off each other as well as using previous examples from class we were able to get through it and make our first post request!! This was a great AHA moment for all of us to get it working.

We had to hard code in data since we haven't decided which database to use yet. Once we got the first endpoint done we decided to explore the Yelp API while we wait to learn about MongoDB tonight/tomorrow.

## Tuesday, November 15, 2022

Today our group worked on:

- Finalizing our API endpoints
- Breaking down and assigning endpoints to members
- Creating issues on our gitlab issue board

Today we were all still discussing the design together. We had our design review with James and got the ok from him as well as some additional clarification on one of the endpoints that we were having some trouble on.

Before today I was a little fuzzy on what issues were, but creating the board and putting issues in it helped clarify that for me.
